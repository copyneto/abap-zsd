sap.ui.define( [],                                                                                                                                                                                                                                             
    function () {                                                                                                                                                                                                                                              
        "use strict";                                                                                                                                                                                                                                          
        return sap.ui.controller("br.com.trescoracoes.geracaoordemvendas.ext.controller.ListReportExt", {                                                                                                                                                      
            messageDialog: function (oEvent) {                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
                var oMessageTemplate = new sap.m.MessageItem({                                                                                                                                                                                                 
                    type: '{type}',                                                                                                                                                                                                                            
                    title: '{title}',                                                                                                                                                                                                                          
                    description: '{description}',                                                                                                                                                                                                              
                    subtitle: '{subtitle}',                                                                                                                                                                                                                    
                    counter: '{counter}',                                                                                                                                                                                                                      
                    markupDescription: '{markupDescription}',                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
                });                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                           
                                                                                                                                                                                                                                                               
                    var oServ = new sap.ui.model.odata.v2.ODataModel("/sap/opu/odata/sap/ZUI_O2_LOGMSG_OV");                                                                                                                                                   
                    var readurl = "/ZC_SD_LOGMSG_OV";                                                                                                                                                                                                          
                    let aMockMessages = [];                                                                                                                                                                                                                    
                    oServ.read(readurl, {                                                                                                                                                                                                                      
                        success: function (oData, oResponse) {                                                                                                                                                                                                 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                             
                           for (let resultado of oData.results) {                                                                                                                                                                                              
                               switch( resultado.Msgty){                                                                                                                                                                                                       
                                   case "E":&nbsp;                                                                                                                                                                                                             
                                   var vTipo = 'Error';                                                                                                                                                                                                        
                                   break;                                                                                                                                                                                                                      
                                   case "S":&nbsp;                                                                                                                                                                                                             
                                    vTipo = 'Success';                                                                                                                                                                                                         
                                   break;                                                                                                                                                                                                                      
                                   case "W":&nbsp;                                                                                                                                                                                                             
                                    vTipo = 'Warning';                                                                                                                                                                                                         
                                   break;                                                                                                                                                                                                                      
                                   case "I":&nbsp;                                                                                                                                                                                                             
                                    vTipo = 'Information';                                                                                                                                                                                                     
                                   break;                                                                                                                                                                                                                      
                                   default: vTipo = 'Information';                                                                                                                                                                                             
                               }                                                                                                                                                                                                                               
                                aMockMessages.push({                                                                                                                                                                                                           
                                    type: vTipo,                                                                                                                                                                                                               
                                    title: `Mensagem ${resultado.Msgid} ${resultado.Msgno}`,                                                                                                                                                                   
                                    description: `${resultado.Message} ${resultado.Msgv1} ${resultado.Msgv2} ${resultado.Msgv3} ${resultado.Msgv4}`,                                                                                                           
                                    subtitle: resultado.Message,                                                                                                                                                                                               
                                });                                                                                                                                                                                                                            
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                            }                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
                            var oModel = new sap.ui.model.json.JSONModel();                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
                            oModel.setData(aMockMessages);                                                                                                                                                                                                     
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                               
                            var oBackButton = new sap.m.Button({                                                                                                                                                                                               
                                icon: sap.ui.core.IconPool.getIconURI("nav-back"),                                                                                                                                                                             
                                visible: false,                                                                                                                                                                                                                
                                press: function () {                                                                                                                                                                                                           
                                    oMessageView.navigateBack();                                                                                                                                                                                               
                                    this.setVisible(false);                                                                                                                                                                                                    
                                }                                                                                                                                                                                                                              
                            });                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
                            var oMessageView = new sap.m.MessageView({                                                                                                                                                                                         
                                showDetailsPageHeader: false,                                                                                                                                                                                                  
                                itemSelect: function () {                                                                                                                                                                                                      
                                    oBackButton.setVisible(true);                                                                                                                                                                                              
                                },                                                                                                                                                                                                                             
                                items: {                                                                                                                                                                                                                       
                                    path: "/",                                                                                                                                                                                                                 
                                    template: oMessageTemplate                                                                                                                                                                                                 
                                }                                                                                                                                                                                                                              
                            });                                                                                                                                                                                                                                
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                       
                            oMessageView.setModel(oModel);                                                                                                                                                                                                     
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                       
                            var oDialog = new sap.m.Dialog({                                                                                                                                                                                                   
                                resizable: true,                                                                                                                                                                                                               
                                content: oMessageView,                                                                                                                                                                                                         
                                state: 'Error',                                                                                                                                                                                                                
                                beginButton: new sap.m.Button({                                                                                                                                                                                                
                                    press: function () {                                                                                                                                                                                                       
                                        this.getParent().close();                                                                                                                                                                                              
                                    },                                                                                                                                                                                                                         
                                    text: "Close"                                                                                                                                                                                                              
                                }),                                                                                                                                                                                                                            
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                       
                                customHeader: new sap.m.Bar({                                                                                                                                                                                                  
                                    contentMiddle: [                                                                                                                                                                                                           
                                        new sap.m.Text({ text: "Error" })                                                                                                                                                                                      
                                    ],                                                                                                                                                                                                                         
                                    contentLeft: [oBackButton]                                                                                                                                                                                                 
                                }),                                                                                                                                                                                                                            
                                contentHeight: "50%",                                                                                                                                                                                                          
                                contentWidth: "50%",                                                                                                                                                                                                           
                                verticalScrolling: false                                                                                                                                                                                                       
                            });                                                                                                                                                                                                                                
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                       
                            oMessageView.navigateBack();                                                                                                                                                                                                       
                            oDialog.open();                                                                                                                                                                                                                    
                        },                                                                                                                                                                                                                                     
                        error: function (err) {                                                                                                                                                                                                                
&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                                                       
                        }                                                                                                                                                                                                                                      
                    })                                                                                                                                                                                                                                         
            },//messageDialog                                                                                                                                                                                                                                  
        });                                                                                                                                                                                                                                                    
    });                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               