mEvent = '';                                                                                                                                                                                                                                                   
sap.ui.define([                                                                                                                                                                                                                                                
    "sap/ui/model/Filter",                                                                                                                                                                                                                                     
    "sap/ui/model/FilterOperator",                                                                                                                                                                                                                             
    "sap/m/MessageToast",                                                                                                                                                                                                                                      
    "sap/ui/comp/smartfilterbar/SmartFilterBar"                                                                                                                                                                                                                
],                                                                                                                                                                                                                                                             
    function () {                                                                                                                                                                                                                                              
        "use strict";                                                                                                                                                                                                                                          
        return sap.ui.controller("br.com.trescoracoes.cockpitgestaopreco.ext.controller.ListReportExt", {                                                                                                                                                      
                                                                                                                                                                                                                                                               
            onInitSmartFilterBarExtension: function (oEvent) {                                                                                                                                                                                                 
                mEvent = oEvent;                                                                                                                                                                                                                               
                var oModel = this.getView().getModel();                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
                oModel.attachRequestCompleted(function (oEvent) {                                                                                                                                                                                              
                    const user = sap.ushell.Container.getService("UserInfo");                                                                                                                                                                                  
                    var oFilter = sap.ui.getCore().byId("br.com.trescoracoes.cockpitgestaopreco::sap.suite.ui.generic.template.ListReport.view.ListReport::ZC_SD_COCKPIT_GESTAO_PRECO--listReportFilter-filterItemControl_BASIC-CreatedBy");                   
                    var oFilterValue = oFilter.getValue();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                         
                    if (oFilterValue == "") {                                                                                                                                                                                                                  
                        oFilter.setValue(user.getId());                                                                                                                                                                                                        
                        var oFilters = {                                                                                                                                                                                                                       
                            "CreatedBy": {                                                                                                                                                                                                                     
                                "ranges": [{                                                                                                                                                                                                                   
                                    "exclude": false,                                                                                                                                                                                                          
                                    "operation": "EQ",                                                                                                                                                                                                         
                                    "keyField": "CreatedBy",                                                                                                                                                                                                   
                                    "value1": user.getId(),                                                                                                                                                                                                    
                                }]                                                                                                                                                                                                                             
                            }                                                                                                                                                                                                                                  
                        };                                                                                                                                                                                                                                     
                        var oGlobalFilter = sap.ui.getCore().byId('br.com.trescoracoes.cockpitgestaopreco::sap.suite.ui.generic.template.ListReport.view.ListReport::ZC_SD_COCKPIT_GESTAO_PRECO--listReportFilter');                                           
                        oGlobalFilter.setFilterData(oFilters);                                                                                                                                                                                                 
                        sap.ui.getCore().byId("br.com.trescoracoes.cockpitgestaopreco::sap.suite.ui.generic.template.ListReport.view.ListReport::ZC_SD_COCKPIT_GESTAO_PRECO--listReportFilter-btnGo").firePress();                                             
                    }                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                       
                });                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
            },                                                                                                                                                                                                                                                 
            onActionGetLayout: function (oEvent) {                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
                var that = this                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
                var oContent = new sap.ui.layout.VerticalLayout({                                                                                                                                                                                              
                    width: '100%',                                                                                                                                                                                                                             
                    content: [                                                                                                                                                                                                                                 
                        new sap.m.Text({ text: "Selecione o arquivo desejado." }),                                                                                                                                                                             
                        new sap.m.Text({ text: ' ' }),                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
                        new sap.m.RadioButtonGroup({                                                                                                                                                                                                           
                            id: "rbg",                                                                                                                                                                                                                         
                            columns: 1,                                                                                                                                                                                                                        
                            buttons: [                                                                                                                                                                                                                         
                                new sap.m.RadioButton({                                                                                                                                                                                                        
                                    id: "preco",                                                                                                                                                                                                               
                                    text: "Lista de Preço"                                                                                                                                                                                                     
                                }),                                                                                                                                                                                                                            
                                new sap.m.RadioButton({                                                                                                                                                                                                        
                                    id: "minimo",                                                                                                                                                                                                              
                                    text: "Alerta Mínimo"                                                                                                                                                                                                      
                                }),                                                                                                                                                                                                                            
                                new sap.m.RadioButton({                                                                                                                                                                                                        
                                    id: "invasao",                                                                                                                                                                                                             
                                    text: "Invasão"                                                                                                                                                                                                            
                                })                                                                                                                                                                                                                             
                            ]                                                                                                                                                                                                                                  
                        }),                                                                                                                                                                                                                                    
                        new sap.m.Text({ text: ' ' }),                                                                                                                                                                                                         
                    ]                                                                                                                                                                                                                                          
                })                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
                var pressDialog = new sap.m.Dialog({                                                                                                                                                                                                           
                    contentWidth: "20%",                                                                                                                                                                                                                       
                    type: 'Message',                                                                                                                                                                                                                           
                    title: "Baixar layout",                                                                                                                                                                                                                    
                    resizable: true,                                                                                                                                                                                                                           
                    draggable: true,                                                                                                                                                                                                                           
                    titleAlignment: sap.m.TitleAlignment.Center,                                                                                                                                                                                               
                    content: oContent,                                                                                                                                                                                                                         
                    beginButton: new sap.m.Button({                                                                                                                                                                                                            
                        type: sap.m.ButtonType.Emphasized,                                                                                                                                                                                                     
                        text: "Baixar",                                                                                                                                                                                                                        
                        press: function () {                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
                            /* ===================================================================&nbsp;                                                                                                                                                       
                            Prepara serviço                                                                                                                                                                                                                    
                            =================================================================== */                                                                                                                                                             
                            var vServiceUrl = "/sap/opu/odata/SAP/ZSD_GESTAO_PRECO_SRV/";                                                                                                                                                                      
                            var oModel = new sap.ui.model.odata.ODataModel(vServiceUrl, false);                                                                                                                                                                
                                                                                                                                                                                                                                                               
                            if (sap.ui.getCore().byId('preco').getSelected()) {                                                                                                                                                                                
                                var vTablename = "A817";                                                                                                                                                                                                       
                            } else if (sap.ui.getCore().byId('minimo').getSelected()) {                                                                                                                                                                        
                                var vTablename = "A626";                                                                                                                                                                                                       
                            } else {                                                                                                                                                                                                                           
                                var vTablename = "A627";                                                                                                                                                                                                       
                            }                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
                            var vEntitySet = "layoutSet(Tablename='" + vTablename + "')/$value";                                                                                                                                                               
                                                                                                                                                                                                                                                               
                            /* ===================================================================&nbsp;                                                                                                                                                       
                            Chama Gateway para processar logs                                                                                                                                                                                                  
                            =================================================================== */                                                                                                                                                             
                            var fnFunction = function () {                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
                                return new Promise(function (showSuccessMessage, showErrorMessage) {                                                                                                                                                           
                                                                                                                                                                                                                                                               
                                    oModel.read(vEntitySet, {                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
                                        success: function (oData, oResponse) {                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
                                            showSuccessMessage();                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
                                            sap.m.URLHelper.redirect(oResponse.requestUri, true);                                                                                                                                                              
                                                                                                                                                                                                                                                               
                                            pressDialog.close();                                                                                                                                                                                               
                                            pressDialog.destroy();                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
                                        }.bind(this),                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
                                        error: function (oError) {                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
                                            showErrorMessage();                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
                                            that.showLog(oError.response.body);                                                                                                                                                                                
                                                                                                                                                                                                                                                               
                                            pressDialog.close();                                                                                                                                                                                               
                                            pressDialog.destroy();                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
                                        }.bind(this),                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
                                    });                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
                                }.bind(this))                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
                            }.bind(this)                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
                            /* ===================================================================&nbsp;                                                                                                                                                       
                            Configura pop-up de mensagens                                                                                                                                                                                                      
                            =================================================================== */                                                                                                                                                             
                            that.extensionAPI.securedExecution(fnFunction,                                                                                                                                                                                     
                                {                                                                                                                                                                                                                              
                                    busy: {                                                                                                                                                                                                                    
                                        set: true,                                                                                                                                                                                                             
                                        check: false                                                                                                                                                                                                           
                                    },                                                                                                                                                                                                                         
                                    sActionLabel: "Mensagens"                                                                                                                                                                                                  
                                }                                                                                                                                                                                                                              
                            );                                                                                                                                                                                                                                 
                        }                                                                                                                                                                                                                                      
                    }),                                                                                                                                                                                                                                        
                    endButton: new sap.m.Button({                                                                                                                                                                                                              
                        text: "Cancelar",                                                                                                                                                                                                                      
                        press: function () {                                                                                                                                                                                                                   
                            pressDialog.close();                                                                                                                                                                                                               
                            pressDialog.destroy();                                                                                                                                                                                                             
                        }                                                                                                                                                                                                                                      
                    }),                                                                                                                                                                                                                                        
                    afterClose: function () {                                                                                                                                                                                                                  
                        pressDialog.close();                                                                                                                                                                                                                   
                        pressDialog.destroy();                                                                                                                                                                                                                 
                    },                                                                                                                                                                                                                                         
                    escapeHandler: function (oPromise) {                                                                                                                                                                                                       
                        pressDialog.close();                                                                                                                                                                                                                   
                        pressDialog.destroy();                                                                                                                                                                                                                 
                    },                                                                                                                                                                                                                                         
                });                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                pressDialog.open();                                                                                                                                                                                                                            
            },                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
            onActionUploadPrice: function (oEvent) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
                /* ===================================================================&nbsp;                                                                                                                                                                   
                Cria Diálogo dinâmico (pop-up)                                                                                                                                                                                                                 
                =================================================================== */                                                                                                                                                                         
                var oUploadDialog = new sap.m.Dialog({                                                                                                                                                                                                         
                    contentWidth: "400px",                                                                                                                                                                                                                     
                    resizable: true,                                                                                                                                                                                                                           
                    type: "Message",                                                                                                                                                                                                                           
                    escapeHandler: function (oPromise) {                                                                                                                                                                                                       
                        oUploadDialog.close();                                                                                                                                                                                                                 
                        oUploadDialog.destroy();                                                                                                                                                                                                               
                    }                                                                                                                                                                                                                                          
                });                                                                                                                                                                                                                                            
                oUploadDialog.setTitle("Carga de lista de preço");                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
                /* ===================================================================&nbsp;                                                                                                                                                                   
                Define o serviço gateway que será chamado                                                                                                                                                                                                      
                =================================================================== */                                                                                                                                                                         
                var sServiceUrl = "/sap/opu/odata/SAP/ZSD_GESTAO_PRECO_SRV/";                                                                                                                                                                                  
                var oModel = new sap.ui.model.odata.ODataModel(sServiceUrl, false);                                                                                                                                                                            
                var sEntity = sServiceUrl + "uploadPriceSet";                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
                /* ===================================================================&nbsp;                                                                                                                                                                   
                Prepara o responsável pela carga do arquivo                                                                                                                                                                                                    
                =================================================================== */                                                                                                                                                                         
                var oFileUploader = new sap.ui.unified.FileUploader({                                                                                                                                                                                          
                    width: "100%",                                                                                                                                                                                                                             
                    fileType: ["xlsx", "xls"],                                                                                                                                                                                                                 
                    typeMissmatch: this.handleTypeMissmatch,                                                                                                                                                                                                   
                    uploadComplete:                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                        function (oEvent) {                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
                            oUploadDialog.close();                                                                                                                                                                                                             
                            oUploadDialog.destroy();                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
                            // Atualiza tabela do relatório após carga                                                                                                                                                                                         
                            this.templateBaseExtension.getExtensionAPI().refreshTable();                                                                                                                                                                       
                                                                                                                                                                                                                                                               
                            // Verifica o retorno da mensagem                                                                                                                                                                                                  
                            if (oEvent.mParameters.status == '200' ||                                                                                                                                                                                          
                                oEvent.mParameters.status == '201') {                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
                                sap.m.MessageToast.show("Carga realizada com sucesso.");                                                                                                                                                                       
                            }                                                                                                                                                                                                                                  
                            else {                                                                                                                                                                                                                             
                                let aMessage = [];                                                                                                                                                                                                             
                                for (const res of oEvent.mParameters.responseRaw.matchAll(/(?:<message>(.*?)<[/]message>)/gm)) {                                                                                                                               
                                    aMessage.push(res[1]);                                                                                                                                                                                                     
                                }                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
                                // Recupera o tipo da mensagem                                                                                                                                                                                                 
                                let aSeverity = [];                                                                                                                                                                                                            
                                for (const res of oEvent.mParameters.responseRaw.matchAll(/(?:<severity>(.*?)<[/]severity>)/gm)) {                                                                                                                             
                                    switch (res[1]) {                                                                                                                                                                                                          
                                        case "error":                                                                                                                                                                                                          
                                            aSeverity.push(sap.ui.core.MessageType.Error);                                                                                                                                                                     
                                            break;                                                                                                                                                                                                             
                                        case "info":                                                                                                                                                                                                           
                                            aSeverity.push(sap.ui.core.MessageType.Information);                                                                                                                                                               
                                            break;                                                                                                                                                                                                             
                                        case "success":                                                                                                                                                                                                        
                                            aSeverity.push(sap.ui.core.MessageType.Success);                                                                                                                                                                   
                                            break;                                                                                                                                                                                                             
                                        case "warning":                                                                                                                                                                                                        
                                            aSeverity.push(sap.ui.core.MessageType.Warning);                                                                                                                                                                   
                                            break;                                                                                                                                                                                                             
                                        default:                                                                                                                                                                                                               
                                            aSeverity.push(sap.ui.core.MessageType.None);                                                                                                                                                                      
                                            break;                                                                                                                                                                                                             
                                    }                                                                                                                                                                                                                          
                                }                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
                                // Exibe mensagem                                                                                                                                                                                                              
                                for (let i = 0; i < aMessage.length; i++) {                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
                                    if (aMessage[i] == "Ocorreu uma exceção") {                                                                                                                                                                                
                                        continue;                                                                                                                                                                                                              
                                    }                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
                                    if (aSeverity[i] == sap.ui.core.MessageType.Success) {                                                                                                                                                                     
                                        sap.m.MessageToast.show(aMessage[i]);                                                                                                                                                                                  
                                    }                                                                                                                                                                                                                          
                                    else {                                                                                                                                                                                                                     
                                        alert(aMessage[i]);                                                                                                                                                                                                    
                                    }                                                                                                                                                                                                                          
                                }                                                                                                                                                                                                                              
                            }                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
                        }.bind(this)                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
                });                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                /* ===================================================================&nbsp;                                                                                                                                                                   
               Define parâmetros                                                                                                                                                                                                                               
                =================================================================== */                                                                                                                                                                         
                oFileUploader.setName("Simple Uploader");                                                                                                                                                                                                      
                oFileUploader.setUploadUrl(sEntity);                                                                                                                                                                                                           
                oFileUploader.setSendXHR(true);                                                                                                                                                                                                                
                oFileUploader.setUseMultipart(false);                                                                                                                                                                                                          
                oFileUploader.setUploadOnChange(false);                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
                var oToken = new sap.ui.unified.FileUploaderParameter({                                                                                                                                                                                        
                    name: "x-csrf-token",                                                                                                                                                                                                                      
                    value: oModel.getSecurityToken()                                                                                                                                                                                                           
                });                                                                                                                                                                                                                                            
                oFileUploader.insertHeaderParameter(oToken);                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
                /* ===================================================================&nbsp;                                                                                                                                                                   
                Cria botão para a carga do arquivo                                                                                                                                                                                                             
                =================================================================== */                                                                                                                                                                         
                var oTriggerButton = new sap.m.Button({                                                                                                                                                                                                        
                    text: 'Upload',                                                                                                                                                                                                                            
                    type: 'Accept',                                                                                                                                                                                                                            
                    press: function () {                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
                        if (sap.ui.getCore().byId('preco').getSelected()) {                                                                                                                                                                                    
                            var vTablename = "A817";                                                                                                                                                                                                           
                        } else if (sap.ui.getCore().byId('minimo').getSelected()) {                                                                                                                                                                            
                            var vTablename = "A626";                                                                                                                                                                                                           
                        } else {                                                                                                                                                                                                                               
                            var vTablename = "A627";                                                                                                                                                                                                           
                        }                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
                        // Verifica se arquivo foi informado                                                                                                                                                                                                   
                        var domRef = oFileUploader.getFocusDomRef();                                                                                                                                                                                           
                        var file = domRef.files[0];                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                        if (oFileUploader.getValue() === '') {                                                                                                                                                                                                 
                            sap.m.MessageToast.show("Favor selecionar um arquivo");                                                                                                                                                                            
                            return;                                                                                                                                                                                                                            
                        }                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
                        var oContentType = new sap.ui.unified.FileUploaderParameter({                                                                                                                                                                          
                            name: "Content-Type",                                                                                                                                                                                                              
                            value: file.type                                                                                                                                                                                                                   
                        });                                                                                                                                                                                                                                    
                        oFileUploader.insertHeaderParameter(oContentType);                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
                        oFileUploader.insertHeaderParameter(new sap.ui.unified.FileUploaderParameter({                                                                                                                                                         
                            name: "SLUG",                                                                                                                                                                                                                      
                            value: oFileUploader.getValue() + ";" + vTablename                                                                                                                                                                                 
                        }));                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
                        oFileUploader.upload();                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
                    }.bind(this)                                                                                                                                                                                                                               
                });                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                /* ===================================================================&nbsp;                                                                                                                                                                   
                Cria botão de cancelar                                                                                                                                                                                                                         
                =================================================================== */                                                                                                                                                                         
                var oCancelButton = new sap.m.Button({                                                                                                                                                                                                         
                    text: 'Cancelar',                                                                                                                                                                                                                          
                    type: 'Reject',                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                    press: function () {                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
                        oUploadDialog.close();                                                                                                                                                                                                                 
                        oUploadDialog.destroy();                                                                                                                                                                                                               
                        this.getView().removeAllDependents();                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
                    }.bind(this)                                                                                                                                                                                                                               
                });                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                /* ===================================================================&nbsp;                                                                                                                                                                   
                Cria opções de carga                                                                                                                                                                                                                           
                =================================================================== */                                                                                                                                                                         
                var oRadioButtonGroup = new sap.m.RadioButtonGroup({                                                                                                                                                                                           
                    id: "rbg",                                                                                                                                                                                                                                 
                    columns: 3,                                                                                                                                                                                                                                
                    buttons: [                                                                                                                                                                                                                                 
                        new sap.m.RadioButton({                                                                                                                                                                                                                
                            id: "preco",                                                                                                                                                                                                                       
                            text: "Lista de Preço"                                                                                                                                                                                                             
                        }),                                                                                                                                                                                                                                    
                        new sap.m.RadioButton({                                                                                                                                                                                                                
                            id: "minimo",                                                                                                                                                                                                                      
                            text: "Alerta Mínimo"                                                                                                                                                                                                              
                        }),                                                                                                                                                                                                                                    
                        new sap.m.RadioButton({                                                                                                                                                                                                                
                            id: "invasao",                                                                                                                                                                                                                     
                            text: "Invasão"                                                                                                                                                                                                                    
                        })                                                                                                                                                                                                                                     
                    ]                                                                                                                                                                                                                                          
                });                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
                /* ===================================================================&nbsp;                                                                                                                                                                   
                Chama diálogo com a lógica de carga&nbsp;                                                                                                                                                                                                      
                =================================================================== */                                                                                                                                                                         
                oUploadDialog.addContent(oFileUploader);                                                                                                                                                                                                       
                oUploadDialog.addContent(oRadioButtonGroup);                                                                                                                                                                                                   
                oUploadDialog.setBeginButton(oCancelButton);                                                                                                                                                                                                   
                oUploadDialog.setEndButton(oTriggerButton);                                                                                                                                                                                                    
                oUploadDialog.open();                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
            },                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
            showSuccessMessage: function () {                                                                                                                                                                                                                  
                this.getView().setBusy(false);                                                                                                                                                                                                                 
            },                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
            showErrorMessage: function () {                                                                                                                                                                                                                    
                this.getView().setBusy(false);                                                                                                                                                                                                                 
            },                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
            handleTypeMissmatch: function (oEvent) {                                                                                                                                                                                                           
                var aFileTypes = oEvent.getSource().getFileType();                                                                                                                                                                                             
                jQuery.each(aFileTypes, function (key, value) { aFileTypes[key] = "*." + value; });                                                                                                                                                            
                var sSupportedFileTypes = aFileTypes.join(", ");                                                                                                                                                                                               
                sap.m.MessageToast.show("Tipo de arquivo *." + oEvent.getParameter("fileType") +                                                                                                                                                               
                    " não é suportado. Escolha um dos tipos a seguir: " +                                                                                                                                                                                      
                    sSupportedFileTypes);                                                                                                                                                                                                                      
            }                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
        });                                                                                                                                                                                                                                                    
    });                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               